{% from 'bootstrap/common.html' import render_href %}
{% macro render_nav_items(menus, request, badge='') %}
    {% if menus %}
    {% set path = '/'+ 'Home' + '/' %}
    {% set active = Ture if request.path and request.path == path or request.path == "/" else False %}
        {% for menu in menus %}
            {% if menu.left %}
            <div class="navbar-nav-scroll">
            <ul class="navbar-nav bd-navbar-nav flex-row">
                {% for left in menu.left %}
                {{ render_nav_item(left,active) }}
                {% endfor %}
             </ul>
            </div>
            {% endif %}

            {% if menu.right %}
            <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex">
                {% for right in menu.right %}
                {{ render_nav_item(right,active) }}
                {% endfor %}
             </ul>
            {% endif %}
        {% endfor %}
    {% endif %}
{% endmacro %}

{% macro render_nav_item(menu, active=False, badge='') %}
    {% if menu %}

    <li class="nav-item {% if menu.submenu %}dropdown {% endif %}">
    <a class="nav-item nav-link {% if menu.submenu %} dropdown-toggle {% endif %} mr-md-2 {% if active %}active{% endif %}"
        id="{{ menu.id }}" {% if menu.submenu %} href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" {% else %} href="{{ render_href(menu.endpoint,menu.type) }}" {% endif %}>
        {{ menu.text }} {% if badge %}<span class="badge badge-light">{{ badge }}</span>{% endif %}
    </a>
    {% if menu.submenu %}
    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="{{ menu.id }}">
        {% for sub in menu.submenu %}
        {% if sub.endpoint == 'h' %}<div class="dropdown-divider"></div>
        {% else %}<a class="dropdown-item" href="{{ render_href(sub.endpoint,sub.type) }}">{{ sub.text }}</a>
        {% endif %}
        {% endfor %}
      </div>
    {% endif %}
    </li>

    {% endif %}
{% endmacro %}



